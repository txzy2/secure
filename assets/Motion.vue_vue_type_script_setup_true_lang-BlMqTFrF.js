import{d as Mt,r as Pt,x as nt,y as _t,o as jt,z as Ct,a as It,j as Vt,w as Lt,A as Rt,B as Ut,u as $,k as Bt}from"./index-DhTjcjLR.js";function vt(t,e){t.indexOf(e)===-1&&t.push(e)}function Ft(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yt=(t,e,n)=>Math.min(Math.max(n,t),e),w={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},B=t=>typeof t=="number",I=t=>Array.isArray(t)&&!B(t[0]),$t=(t,e,n)=>{const i=e-t;return((n-t)%i+i)%i+t};function zt(t,e){return I(t)?t[$t(0,t.length,e)]:t}const bt=(t,e,n)=>-n*t+n*e+t,Et=()=>{},x=t=>t,Y=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function wt(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Y(0,e,i);t.push(bt(n,1,s))}}function qt(t){const e=[0];return wt(e,t-1),e}function Kt(t,e=qt(t.length),n=x){const i=t.length,s=i-e.length;return s>0&&wt(e,s),r=>{let o=0;for(;o<i-2&&!(r<e[o+1]);o++);let a=yt(0,1,Y(e[o],e[o+1],r));return a=zt(n,o)(a),bt(t[o],t[o+1],a)}}const St=t=>Array.isArray(t)&&B(t[0]),k=t=>typeof t=="object"&&!!t.createAnimation,F=t=>typeof t=="function",Wt=t=>typeof t=="string",W={ms:t=>t*1e3,s:t=>t/1e3},At=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Nt=1e-7,Gt=12;function Xt(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=At(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>Nt&&++a<Gt);return o}function U(t,e,n,i){if(t===e&&n===i)return x;const s=r=>Xt(r,0,1,t,n);return r=>r===0||r===1?r:At(s(r),e,i)}const Zt=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const i=n*t,s=e==="end"?Math.floor(i):Math.ceil(i);return yt(0,1,s/t)},kt={ease:U(.25,.1,.25,1),"ease-in":U(.42,0,1,1),"ease-in-out":U(.42,0,.58,1),"ease-out":U(0,0,.58,1)},Ht=/\((.*?)\)/;function it(t){if(F(t))return t;if(St(t))return U(...t);const e=kt[t];if(e)return e;if(t.startsWith("steps")){const n=Ht.exec(t);if(n){const i=n[1].split(",");return Zt(parseFloat(i[0]),i[1].trim())}}return x}class Jt{constructor(e,n=[0,1],{easing:i,duration:s=w.duration,delay:r=w.delay,endDelay:o=w.endDelay,repeat:a=w.repeat,offset:m,direction:l="normal",autoplay:h=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=x,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((u,A)=>{this.resolve=u,this.reject=A}),i=i||w.easing,k(i)){const u=i.createAnimation(n);i=u.easing,n=u.keyframes||n,s=u.duration||s}this.repeat=a,this.easing=I(i)?x:it(i),this.updateDuration(s);const S=Kt(n,m,I(i)?i.map(it):x);this.tick=u=>{var A;r=r;let g=0;this.pauseTime!==void 0?g=this.pauseTime:g=(u-this.startTime)*this.rate,this.t=g,g/=1e3,g=Math.max(g-r,0),this.playState==="finished"&&this.pauseTime===void 0&&(g=this.totalDuration);const c=g/this.duration;let v=Math.floor(c),y=c%1;!y&&c>=1&&(y=1),y===1&&v--;const M=v%2;(l==="reverse"||l==="alternate"&&M||l==="alternate-reverse"&&!M)&&(y=1-y);const P=g>=this.totalDuration?1:Math.min(y,1),T=S(this.easing(P));e(T),this.pauseTime===void 0&&(this.playState==="finished"||g>=this.totalDuration+o)?(this.playState="finished",(A=this.resolve)===null||A===void 0||A.call(this,T)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},h&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class Qt{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const N=new WeakMap;function Tt(t){return N.has(t)||N.set(t,{transforms:[],values:new Map}),N.get(t)}function Yt(t,e){return t.has(e)||t.set(e,new Qt),t.get(e)}const te=["","X","Y","Z"],ee=["translate","scale","rotate","skew"],V={x:"translateX",y:"translateY",z:"translateZ"},st={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},ne={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:st,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:x},skew:st},L=new Map,K=t=>`--motion-${t}`,q=["x","y","z"];ee.forEach(t=>{te.forEach(e=>{q.push(t+e),L.set(K(t+e),ne[t])})});const ie=(t,e)=>q.indexOf(t)-q.indexOf(e),se=new Set(q),tt=t=>se.has(t),re=(t,e)=>{V[e]&&(e=V[e]);const{transforms:n}=Tt(t);vt(n,e),t.style.transform=Ot(n)},Ot=t=>t.sort(ie).reduce(oe,"").trim(),oe=(t,e)=>`${t} ${e}(var(${K(e)}))`,H=t=>t.startsWith("--"),rt=new Set;function ae(t){if(!rt.has(t)){rt.add(t);try{const{syntax:e,initialValue:n}=L.has(t)?L.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const G=(t,e)=>document.createElement("div").animate(t,e),ot={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{G({opacity:[1]})}catch{return!1}return!0},finished:()=>!!G({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{G({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},X={},C={};for(const t in ot)C[t]=()=>(X[t]===void 0&&(X[t]=ot[t]()),X[t]);const ce=.015,le=(t,e)=>{let n="";const i=Math.round(e/ce);for(let s=0;s<i;s++)n+=t(Y(0,i-1,s))+", ";return n.substring(0,n.length-2)},at=(t,e)=>F(t)?C.linearEasing()?`linear(${le(t,e)})`:w.easing:St(t)?ue(t):t,ue=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`;function fe(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const de=t=>Array.isArray(t)?t:[t];function J(t){return V[t]&&(t=V[t]),tt(t)?K(t):t}const O={get:(t,e)=>{e=J(e);let n=H(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const i=L.get(e);i&&(n=i.initialValue)}return n},set:(t,e,n)=>{e=J(e),H(e)?t.style.setProperty(e,n):t.style[e]=n}};function he(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function pe(t,e){var n;let i=(e==null?void 0:e.toDefaultUnit)||x;const s=t[t.length-1];if(Wt(s)){const r=((n=s.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";r&&(i=o=>o+r)}return i}function ge(){return window.__MOTION_DEV_TOOLS_RECORD}function me(t,e,n,i={},s){const r=ge(),o=i.record!==!1&&r;let a,{duration:m=w.duration,delay:l=w.delay,endDelay:h=w.endDelay,repeat:S=w.repeat,easing:u=w.easing,persist:A=!1,direction:g,offset:c,allowWebkitAcceleration:v=!1,autoplay:y=!0}=i;const M=Tt(t),P=tt(e);let T=C.waapi();P&&re(t,e);const b=J(e),_=Yt(M.values,b),f=L.get(b);return he(_.animation,!(k(u)&&_.generator)&&i.record!==!1),()=>{const E=()=>{var p,R;return(R=(p=O.get(t,b))!==null&&p!==void 0?p:f==null?void 0:f.initialValue)!==null&&R!==void 0?R:0};let d=fe(de(n),E);const et=pe(d,f);if(k(u)){const p=u.createAnimation(d,e!=="opacity",E,b,_);u=p.easing,d=p.keyframes||d,m=p.duration||m}if(H(b)&&(C.cssRegisterProperty()?ae(b):T=!1),P&&!C.linearEasing()&&(F(u)||I(u)&&u.some(F))&&(T=!1),T){f&&(d=d.map(j=>B(j)?f.toDefaultUnit(j):j)),d.length===1&&(!C.partialKeyframes()||o)&&d.unshift(E());const p={delay:W.ms(l),duration:W.ms(m),endDelay:W.ms(h),easing:I(u)?void 0:at(u,m),direction:g,iterations:S+1,fill:"both"};a=t.animate({[b]:d,offset:c,easing:I(u)?u.map(j=>at(j,m)):void 0},p),a.finished||(a.finished=new Promise((j,Dt)=>{a.onfinish=j,a.oncancel=Dt}));const R=d[d.length-1];a.finished.then(()=>{A||(O.set(t,b,R),a.cancel())}).catch(Et),v||(a.playbackRate=1.000001)}else if(s&&P)d=d.map(p=>typeof p=="string"?parseFloat(p):p),d.length===1&&d.unshift(parseFloat(E())),a=new s(p=>{O.set(t,b,et?et(p):p)},d,Object.assign(Object.assign({},i),{duration:m,easing:u}));else{const p=d[d.length-1];O.set(t,b,f&&B(p)?f.toDefaultUnit(p):p)}return o&&r(t,e,d,{duration:m,delay:l,easing:u,repeat:S,offset:c},"motion-one"),_.setAnimation(a),a&&!y&&a.pause(),a}}const ve=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function ye(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}function xt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const be={any:0,all:1};function Ee(t,e,{root:n,margin:i,amount:s="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const r=ye(t),o=new WeakMap,a=l=>{l.forEach(h=>{const S=o.get(h.target);if(h.isIntersecting!==!!S)if(h.isIntersecting){const u=e(h);F(u)?o.set(h.target,u):m.unobserve(h.target)}else S&&(S(h),o.delete(h.target))})},m=new IntersectionObserver(a,{root:n,rootMargin:i,threshold:typeof s=="number"?s:be[s]});return r.forEach(l=>m.observe(l)),()=>m.disconnect()}function we(t,e){return typeof t!=typeof e?!0:Array.isArray(t)&&Array.isArray(e)?!Se(t,e):t!==e}function Se(t,e){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Ae(t){return typeof t=="object"}function ct(t,e){if(Ae(t))return t;if(t&&e)return e[t]}let D;function Te(){if(!D)return;const t=D.sort(xe).map(De);t.forEach(lt),t.forEach(lt),D=void 0}function Z(t){D?vt(D,t):(D=[t],requestAnimationFrame(Te))}function Oe(t){D&&Ft(D,t)}const xe=(t,e)=>t.getDepth()-e.getDepth(),De=t=>t.animateUpdates(),lt=t=>t.next(),ut=(t,e)=>new CustomEvent(t,{detail:{target:e}});function Q(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:{originalEvent:n}}))}function ft(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:{originalEntry:n}}))}const Me={isActive:t=>!!t.inView,subscribe:(t,{enable:e,disable:n},{inViewOptions:i={}})=>{const{once:s}=i,r=xt(i,["once"]);return Ee(t,o=>{if(e(),ft(t,"viewenter",o),!s)return a=>{n(),ft(t,"viewleave",a)}},r)}},dt=(t,e,n)=>i=>{i.pointerType&&i.pointerType!=="mouse"||(n(),Q(t,e,i))},Pe={isActive:t=>!!t.hover,subscribe:(t,{enable:e,disable:n})=>{const i=dt(t,"hoverstart",e),s=dt(t,"hoverend",n);return t.addEventListener("pointerenter",i),t.addEventListener("pointerleave",s),()=>{t.removeEventListener("pointerenter",i),t.removeEventListener("pointerleave",s)}}},_e={isActive:t=>!!t.press,subscribe:(t,{enable:e,disable:n})=>{const i=r=>{n(),Q(t,"pressend",r),window.removeEventListener("pointerup",i)},s=r=>{e(),Q(t,"pressstart",r),window.addEventListener("pointerup",i)};return t.addEventListener("pointerdown",s),()=>{t.removeEventListener("pointerdown",s),window.removeEventListener("pointerup",i)}}},z={inView:Me,hover:Pe,press:_e},ht=["initial","animate",...Object.keys(z),"exit"],pt=new WeakMap;function je(t={},e){let n,i=e?e.getDepth()+1:0;const s={initial:!0,animate:!0},r={},o={};for(const c of ht)o[c]=typeof t[c]=="string"?t[c]:e==null?void 0:e.getContext()[c];const a=t.initial===!1?"animate":"initial";let m=ct(t[a]||o[a],t.variants)||{},l=xt(m,["transition"]);const h=Object.assign({},l);function*S(){var c,v;const y=l;l={};const M={};for(const f of ht){if(!s[f])continue;const E=ct(t[f]);if(E)for(const d in E)d!=="transition"&&(l[d]=E[d],M[d]=ve((v=(c=E.transition)!==null&&c!==void 0?c:t.transition)!==null&&v!==void 0?v:{},d))}const P=new Set([...Object.keys(l),...Object.keys(y)]),T=[];P.forEach(f=>{var E;l[f]===void 0&&(l[f]=h[f]),we(y[f],l[f])&&((E=h[f])!==null&&E!==void 0||(h[f]=O.get(n,f)),T.push(me(n,f,l[f],M[f],Jt)))}),yield;const b=T.map(f=>f()).filter(Boolean);if(!b.length)return;const _=l;n.dispatchEvent(ut("motionstart",_)),Promise.all(b.map(f=>f.finished)).then(()=>{n.dispatchEvent(ut("motioncomplete",_))}).catch(Et)}const u=(c,v)=>()=>{s[c]=v,Z(g)},A=()=>{for(const c in z){const v=z[c].isActive(t),y=r[c];v&&!y?r[c]=z[c].subscribe(n,{enable:u(c,!0),disable:u(c,!1)},t):!v&&y&&(y(),delete r[c])}},g={update:c=>{n&&(t=c,A(),Z(g))},setActive:(c,v)=>{n&&(s[c]=v,Z(g))},animateUpdates:S,getDepth:()=>i,getTarget:()=>l,getOptions:()=>t,getContext:()=>o,mount:c=>(n=c,pt.set(n,g),A(),()=>{pt.delete(n),Oe(g);for(const v in r)r[v]()}),isMounted:()=>!!n};return g}function gt(t){const e={},n=[];for(let i in t){const s=t[i];tt(i)&&(V[i]&&(i=V[i]),n.push(i),i=K(i));let r=Array.isArray(s)?s[0]:s;const o=L.get(i);o&&(r=B(s)?o.toDefaultUnit(s):s),e[i]=r}return n.length&&(e.transform=Ot(n)),e}const mt="motion-state",Ce="motion-presence",Ve=Mt({__name:"Motion",props:{tag:{default:"div"},initial:{type:[Object,String,Boolean]},animate:{},inView:{},hover:{},press:{},exit:{},variants:{},inViewOptions:{},transition:{}},setup(t){const e=t,n=Pt(null),i=nt(mt,void 0),s=nt(Ce,void 0),r=je({...e,initial:(s==null?void 0:s.initial)===!1?s.initial:e.initial===!0?void 0:e.initial},i);function o(){r.update({...e,initial:e.initial===!0?void 0:e.initial})}_t(mt,r),jt(()=>{const l=r.mount(n.value);return o(),l});let a=!1;Ct(()=>{if(!a&&n.value){a=!0;const l=gt(r.getTarget());for(const h in l)O.set(n.value,h,l[h])}o()});const m=gt(r.getTarget());return(l,h)=>(It(),Vt(Bt(l.tag),{ref_key:"root",ref:n,style:Ut($(r).isMounted()?$(O):{...$(O),...$(m)})},{default:Lt(()=>[Rt(l.$slots,"default")]),_:3},8,["style"]))}});export{Ve as _};
